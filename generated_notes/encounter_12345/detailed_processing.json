{
  "encounter_id": "encounter_12345",
  "processing_started_at": "2025-06-21T14:36:13.613715",
  "output_folder": "generated_notes/encounter_12345",
  "processing_steps": [
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:13.614041",
      "details": "ðŸš€ Starting processing pipeline for job job_encounter_12345_1a301540",
      "level": "INFO",
      "data": {
        "trace_id": "N/A"
      }
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:13.614926",
      "details": "Storing and chunking conversation.",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:13.615550",
      "details": "Storing conversation encounter_12345 for doctor string in en.",
      "level": "INFO",
      "data": {
        "turn_count": 2
      }
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:13.616457",
      "details": "Grouped transcript into 2 speaker blocks.",
      "level": "DEBUG",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:13.617229",
      "details": "Completed speaker-aware chunking. Total chunks: 1",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:15.060958",
      "details": "Stored chunk 1/1 with doc_id d9572be4-e55d-41b1-9139-3d1160be3ba3",
      "level": "DEBUG",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:15.873415",
      "details": "Stored full conversation document.",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:15.875362",
      "details": "Extracting all medical terms from full transcript for SNOMED mapping.",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "LLM_TERM_EXTRACTION_START",
      "timestamp": "2025-06-21T14:36:15.876609",
      "details": "Starting medical term extraction from text (length: 91)",
      "data": {
        "text_length": 91,
        "language": "en"
      }
    },
    {
      "step": "LLM_TERM_EXTRACTION_COMPLETED",
      "timestamp": "2025-06-21T14:36:17.003825",
      "details": "Extracted 1 medical terms using LLM.",
      "data": {
        "terms_extracted": 1,
        "sample_terms": [
          "chest pain"
        ]
      }
    },
    {
      "step": "NEO4J_SNOMED_MAPPING_START",
      "timestamp": "2025-06-21T14:36:17.004559",
      "details": "Starting SNOMED mapping for 1 medical terms",
      "data": {
        "medical_terms": [
          "chest pain"
        ],
        "language": "en",
        "database": "NEO4J_SNOMED_CANADIAN_EDITION",
        "query_strategy": "EXACT_MATCH_THEN_CONTAINS_THEN_SEMANTIC"
      }
    },
    {
      "step": "NEO4J_TERM_QUERY_START",
      "timestamp": "2025-06-21T14:36:17.005015",
      "details": "Querying Neo4j for term 'chest pain' (1/1)",
      "data": {
        "term": "chest pain",
        "term_index": 1,
        "total_terms": 1,
        "language": "en"
      }
    },
    {
      "step": "NEO4J_EXACT_MATCH_QUERY",
      "timestamp": "2025-06-21T14:36:17.005229",
      "details": "Trying exact match for term 'chest pain' in Neo4j SNOMED",
      "data": {
        "term": "chest pain",
        "query_type": "EXACT_MATCH"
      }
    },
    {
      "step": "NEO4J_EXACT_MATCH_SUCCESS",
      "timestamp": "2025-06-21T14:36:17.561632",
      "details": "Found 1 exact matches for 'chest pain'",
      "data": {
        "term": "chest pain",
        "matches_found": 1,
        "match_type": "EXACT"
      }
    },
    {
      "step": "NEO4J_SNOMED_MAPPING",
      "timestamp": "2025-06-21T14:36:17.562052",
      "details": "Mapped 'chest pain' â†’ 'Chest pain' (SNOMED: 29857009)",
      "data": {
        "original_term": "chest pain",
        "snomed_concept_id": "29857009",
        "preferred_term": "Chest pain",
        "match_type": "exact",
        "confidence": 0.95,
        "language": "en",
        "timestamp": "2025-06-21T14:36:17.562049"
      }
    },
    {
      "step": "NEO4J_SNOMED_MAPPING_COMPLETED",
      "timestamp": "2025-06-21T14:36:17.563127",
      "details": "SNOMED mapping completed: 1 mappings found",
      "data": {
        "total_mappings_found": 1,
        "terms_processed": 1,
        "success_rate": 1.0,
        "database": "NEO4J_SNOMED_CANADIAN_EDITION"
      }
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:17.563877",
      "details": "Retrieved 1 SNOMED codes for the entire encounter.",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:17.564438",
      "details": "Found 1 preferences for doctor string.",
      "level": "INFO",
      "data": {
        "Hypertension": "HTN"
      }
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:17.565009",
      "details": "Starting generation for section 1/1: 'Subjective'",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:17.822108",
      "details": "Attempt 1: Retrieved 5 chunks for 'Subjective'.",
      "level": "DEBUG",
      "data": {}
    },
    {
      "step": "SECTION_GENERATION_COMPLETED",
      "timestamp": "2025-06-21T14:36:21.501201",
      "details": "Generated Subjective section (ID: section_a50e26de) - 577 chars, 4 line refs",
      "data": {
        "section_id": "section_a50e26de",
        "section_type": "Subjective",
        "content_length": 577,
        "line_references_found": 4,
        "snomed_mappings_applied": 1,
        "confidence_score": 1.0,
        "processing_duration": 0,
        "status": "COMPLETED",
        "timestamp": "2025-06-21T14:36:21.501184"
      }
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:21.503372",
      "details": "âœ… Successfully generated and saved section 'Subjective' on attempt 1.",
      "level": "INFO",
      "data": {}
    },
    {
      "step": "GENERIC_LOG",
      "timestamp": "2025-06-21T14:36:21.504578",
      "details": "âœ… Encounter processing pipeline completed successfully.",
      "level": "INFO",
      "data": {}
    }
  ],
  "performance_metrics": {},
  "medical_mappings": {},
  "doctor_preferences": {},
  "file_operations": [],
  "azure_openai_calls": [],
  "neo4j_queries": [
    {
      "query_type": "SNOMED_MAPPING",
      "input_term": "chest pain",
      "result": {
        "concept_id": "29857009",
        "preferred_term": "Chest pain",
        "description": "Chest pain",
        "original_term": "chest pain",
        "confidence": 0.95,
        "match_type": "exact",
        "language": "en"
      },
      "timestamp": "2025-06-21T14:36:17.562622"
    }
  ],
  "conversation_storage": {},
  "section_generations": [
    {
      "section_id": "section_a50e26de",
      "section_type": "Subjective",
      "content_length": 577,
      "line_references_found": 4,
      "snomed_mappings_applied": 1,
      "confidence_score": 1.0,
      "processing_duration": 0,
      "status": "COMPLETED",
      "timestamp": "2025-06-21T14:36:21.501184"
    }
  ]
}